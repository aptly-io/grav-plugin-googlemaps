/* Copyright 2015, 2016 Francis Meyvis */
/* v0.3.5 Glue for the Grav googlemaps plugin and Google Map's API*/
var io;!function(e){var n;!function(e){var n;!function(e){function n(e,n,a,r){google.maps.controlStyle=r;var i=n.center.split(",");n.center=new google.maps.LatLng(i[0],i[1]);var s=new google.maps.Map(document.getElementById(e),n);if(a.hasOwnProperty("kmlUrl")){var g={suppressInfoWindows:!0,preserveViewport:!1,map:s},l=new google.maps.KmlLayer(a.kmlUrl,g);l.setMap(s),google.maps.event.addListener(l,"click",function(n){var o=document.getElementById(e+"_KmlInfo");o.innerHTML=n.featureData.infoWindowHtml}),!0===a.kmlStatus&&google.maps.event.addListener(l,"status_changed",function(){document.getElementById(e+"_KmlStatus").innerHTML=l.getStatus().toLocaleString()})}if(a.hasOwnProperty("markers")){var p;for(p in a.markers)o(s,a.markers[p])}google.maps.event.addDomListener(window,"resize",function(){var e=s.getCenter();google.maps.event.trigger(s,"resize"),s.setCenter(e)}),t.push({map:s,center:s.getCenter(),zoom:s.getZoom()})}function o(e,n){var o=n.location.split(","),t={position:new google.maps.LatLng(o[0],o[1]),animation:google.maps.Animation.DROP};if(n.hasOwnProperty("title")&&(t.title=n.title),n.hasOwnProperty("zIndex")&&(t.zIndex=parseInt(n.zIndex)),n.hasOwnProperty("icon")){var a={url:n.icon};t.icon=a}var r=new google.maps.Marker(t);if(n.hasOwnProperty("info")){var i={content:n.info},s=new google.maps.InfoWindow(i);google.maps.event.addListener(r,"click",function(n){s.open(e,r)})}else n.hasOwnProperty("link")&&google.maps.event.addListener(r,"click",function(e){window.location.href=n.link});var g=0;n.hasOwnProperty("timeout")&&(g=parseInt(n.timeout)),window.setTimeout(function(){r.setMap(e)},g)}var t=[];e.initGoogleMaps=n}(n=e.grav_plugin_googlemaps||(e.grav_plugin_googlemaps={}))}(n=e.aptly||(e.aptly={}))}(io||(io={}));
